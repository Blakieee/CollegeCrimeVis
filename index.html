<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>College Crime Scrollytelling</title>
    <style>
        /* 全局样式 */
        body, html {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            font-size: 20px;
            line-height: 1.6;
            background-color: #f5f5f5;
            overflow-x: hidden;
        }

        /* Scroll Snap container */
        main {
            scroll-snap-type: y mandatory;
            overflow-y: scroll;
            height: 100vh;
        }

        /* Section styles */
        section {
            scroll-snap-align: start;
            display: flex;
            justify-content: space-between; /* 左右布局 */
            align-items: center; /* 确保文字和图片垂直方向都居中 */
            height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }

        /* 左侧文字 */
        .text {
            flex: 1;
            max-width: 45%;
            display: flex; /* 启用 flex 布局 */
            flex-direction: column; /* 确保文字内容保持垂直排列 */
            justify-content: center; /* 上下居中 */
            padding-right: 20px;
        }

        /* 右侧图片 */
        .image {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* 图片垂直顶部对齐 */
            height: 100%;
            overflow-y: auto;
        }

        .image img {
            width: 100%;
            max-width: 800px;
            height: auto;
        }

        /* Alternating background colors */
        section:nth-child(odd) {
            background-color: #ffffff;
        }

        section:nth-child(even) {
            background-color: #f0f0f0;
        }

        /* Tableau chart container */
        .chart-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            height: calc(100vh - 50px);
        }
    </style>
</head>
<body>
    <main>
        <!-- 第一页 -->
        <section>
            <div class="text">
                <h2>Crime Rate Distribution by University Type</h2>
                <p>
                    Based on the data in the chart, the <strong>interquartile range (IQR) of crime rates at private universities (0.41%)</strong> is wider compared to that of public universities (0.28%). This indicates that crime rates vary more significantly among private universities, whereas the distribution of crime rates in public universities is more concentrated.
                </p>
                <p>
                    Additionally, the <strong>median crime rate for private universities (0.33%)</strong> is higher than that of public universities (0.22%). Private universities also exhibit some extreme values where <strong>crime rates exceed 1.2%</strong>, while public universities have fewer and less severe outliers.
                </p>
            </div>
            <div class="image">
                <img src="./images/control.png" alt="Crime Rate Distribution">
            </div>
        </section>

        <!-- 第二页 -->
        <section>
            <div class="text">
                <h2>QS 2021 Rankings and Crime Rates</h2>
                <p>
                    This chart displays the <strong>QS 2021 rankings</strong> of the top 150 universities in the United States and their corresponding crime rate distributions. The grey dots represent the universities’ rankings, decreasing from left to right. The colored lines indicate each university’s crime rate, calculated by dividing the <strong>number of crimes by the number of students and expressed as a percentage</strong>. The variation in color further reflects the level of crime rates: <strong>green signifies lower crime rates</strong>, while <strong>red denotes higher crime rates</strong>.
                </p>
            </div>
            <div class="image">
                <img src="./images/rank.png" alt="QS 2021 Rankings and Crime Rates">
            </div>
        </section>

        <!-- Tableau Chart -->
        <section>
            <div class="chart-container">
                <div class='tableauPlaceholder' id='viz1733031206875' style='position: relative'>
                    <noscript>
                        <a href='#'>
                            <img alt='Dashboard 1 ' 
                                 src='https://public.tableau.com/static/images/Bo/Book1_17326628217500/Dashboard1/1_rss.png' 
                                 style='border: none;' />
                        </a>
                    </noscript>
                    <object class='tableauViz' style='display:none;'>
                        <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                        <param name='embed_code_version' value='3' />
                        <param name='site_root' value='' />
                        <param name='name' value='Book1_17326628217500/Dashboard1' />
                        <param name='tabs' value='no' />
                        <param name='toolbar' value='yes' />
                        <param name='static_image' value='https://public.tableau.com/static/images/Bo/Book1_17326628217500/Dashboard1/1.png' />
                        <param name='animate_transition' value='yes' />
                        <param name='display_static_image' value='yes' />
                        <param name='display_spinner' value='yes' />
                        <param name='display_overlay' value='yes' />
                        <param name='display_count' value='yes' />
                        <param name='language' value='zh-CN' />
                    </object>
                </div>
            </div>
        </section>
    </main>

    <script type='text/javascript'>
        var divElement = document.getElementById('viz1733031206875');
        var vizElement = divElement.getElementsByTagName('object')[0];
        if (divElement.offsetWidth > 800) {
            vizElement.style.width = '100%';
            vizElement.style.height = (divElement.offsetWidth * 0.75) + 'px';
        } else if (divElement.offsetWidth > 500) {
            vizElement.style.width = '100%';
            vizElement.style.height = (divElement.offsetWidth * 0.75) + 'px';
        } else {
            vizElement.style.width = '100%';
            vizElement.style.height = '1527px';
        }
        var scriptElement = document.createElement('script');
        scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
        vizElement.parentNode.insertBefore(scriptElement, vizElement);
    </script>
</body>
</html>